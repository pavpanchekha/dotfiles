#!/bin/bash

# List of actions that do not require superuser permissions
NOSUDO="search show why why-not changelog help -h"

if [ "x$1" = "x" ]; then
    ACTION="help"
elif [ "x$1" = "xdo" ]; then
    ACTION="install"
elif [ "x$1" = "xmaint" ]; then
    sudo aptitude update && sudo aptitude full-upgrade
    exit
elif [ "x$1" = "upgrade" ]; then
    ACTION="safe-upgrade"
elif [ "x$1" = "xrepo" ]; then
    sudo add-apt-repository $2
    sudo aptitude update
    exit
else
    ACTION="$1"
fi

shift

if [[ $NOSUDO =~ $ACTION ]]; then
    aptitude $ACTION "$@"
else
    sudo aptitude $ACTION "$@"
fi

